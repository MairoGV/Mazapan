/**
 * QRCode generator for browsers – tiny version
 * Based on "QR Code in JS" – MIT license
 * https://github.com/davidshimjs/qrcodejs
 * Minificado y simplificado para este ejemplo.
 */
var QRCode=function(){"use strict";function e(t,n){this.typeNumber=-1,this.errorCorrectLevel=n,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var t=1,n=2,r=3,i=4,o={M:0,L:1,H:2,Q:3};function a(e){return new Array(e)}function s(e,t){for(var n=a(e),r=0;r<e;r+=1)n[r]=t;return n}function u(e,t){for(var n=1,r=0;;){if((n+=1)===t)return e[r];e[r]===t&&(e[r]=1),r+=1}}function l(e,t,n,r){var i=0,o=0,a=0,s=0;for(i=3;i>=0;i-=1)o=(a=2*i+1)<=3?n>>>a&1:r>>>a&1,s|=e>>>a&1?o<<i+1&2|o<<i&1:o<<i&1|o<<i+1&2;return s}function c(e,t){if(void 0===e||e.length<t)throw new Error(e.length+"/"+t);for(var n=0;n<t;n+=1)if(!e[n])throw new Error(n);return e}function h(e,t,n,r,i,o,a,u,l,c,h,f){this.pen=e,this.isDark=t,this.addData=n,this.make=r,this.getModuleCount=i,this.modules=o,this.moduleCount=a,this.dataCache=u,this.dataList=l,this.typeNumber=c,this.errorCorrectLevel=h,this.makeImpl=f}return e.prototype={addData:function(t){var n=new function(e){var t=function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):t.push(224|r>>12,128|r>>6&63,128|63&r)}return t}(e),n=a(8*t.length+5);n[0]=4;for(var r=0;r<t.length;r++)for(var i=1;i<=8;i+=1)n[8*r+i]=t[r]>>>8-i&1;return n}(t);this.dataList.push(n),this.dataCache=null},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<41;t+=1){for(var n=o[this.errorCorrectLevel],r=a(t),i=0;i<this.dataList.length;i+=1){var s=this.dataList[i];r=u(r,s)}if(r.length<=function(e,t){return t<=9?function(e){switch(e){case 1:return 10;case 2:return 9;case 4:return 8;case 8:return 8;default:throw Error("mode:"+e)}}(e):function(e){switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw Error("mode:"+e)}}(e)}(n,t))break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n+=1){this.makeImpl(!0,n);var r=this.getLostPoint();r<t&&(t=r,e=n)}return e},getLostPoint:function(){for(var e=this.getModuleCount(),t=0,n=0;n<e;n+=1+=1)for(var r=0;r<e;r+=1+=1){for(var i=0,o=this.modules[n][r],a=0;a<5;a+=1)if(!(r+a>=e||this.modules[n][r+a]!==o)){i+=1;if(a===4)t+=3;else if(a===5)t+=1}else break;for(a=0;a<5;a+=1)if(!(n+a>=e||this.modules[n+a][r]!==o)){i+=1;if(a===4)t+=3;else if(a===5)t+=1}else break}for(n=0;n<e-1;n+=1+=1)for(r=0;r<e-1;r+=1+=1){var s=this.modules[n][r];s===this.modules[n][r+1]&&s===this.modules[n+1][r]&&s===this.modules[n+1][r+1]&&(t+=3)}for(n=0;n<e;n+=1+=1)for(r=0;r<e;r+=1+=1){var u=this.modules[n][r],l=0;for(a=n;a<e&&this.modules[a][r]===u;a+=1)l+=1;if(l>=6&&(t+=l-5),l=0,a=r;a<e&&this.modules[n][a]===u;a+=1)l+=1;l>=6&&(t+=l-5)}for(n=0;n<e;n+=1+=1)for(r=0;r<e;r+=1+=1){var c=this.modules[n][r]?1:0;0!==n&&0!==r&&n!==e-1&&r!==e-1||(t+=3*c)}return t},makeImpl:function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n+=1+=1){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r+=1+=1)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null===this.dataCache&&(this.dataCache=this.createData());for(n=0;n<this.moduleCount;n+=1+=1)this.modules[n][r]=null;for(var i=this.createMatrix(e,t),o=0;o<this.moduleCount;o+=1+=1)for(r=0;r<this.moduleCount;r+=1+=1){var a=i[o][r];this.modules[o][r]=1===a}e&&this.maskPattern(t)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n+=1+=1)if(!(e+n<=-1||this.moduleCount<=e+n))for(var r=-1;r<=7;r+=1+=1)t+r<=-1||this.moduleCount<=t+r||(0<=n&&n<=6&&(0===r||6===r)||0<=r&&r<=6&&(0===n||6===n)||2<=n&&n<=4&&2<=r&&r<=4?this.modules[e+n][t+r]=!0:this.modules[e+n][t+r]=!1)},setupPositionAdjustPattern:function(){for(var e=[6,18,30,42,54,66,78],t=this.getPatternPosition(),n=0;n<t.length;n+=1+=1)for(var r=0;r<t.length;r+=1+=1){var i=t[n],o=t[r];if(null===this.modules[i][o])for(var a=-2;a<=2;a+=1+=1)for(var s=-2;s<=2;s+=1+=1)this.modules[i+a][o+s]=-2===a||2===a||-2===s||2===s||0===a&&0===s?!0:!1}},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e+=1+=1)null===this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t+=1+=1)null===this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,r=0,i=0;i<15;i+=1+=1)r=r<<1^(n>>>i&1?1335:21522);for(i=0;i<15;i+=1+=1){var o=!e&&(r>>>i&1)==1;i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i+=1+=1){o=!e&&(r>>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!e},setupTypeNumber:function(e){for(var t=0,n=0;n<18;n+=1+=1)t=t<<1^(this.typeNumber>>>n&1?7973:10282);for(n=0;n<18;n+=1+=1){var r=!e&&(t>>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n+=1+=1){r=!e&&(t>>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},createMatrix:function(e,t){for(var n=this.getModuleCount(),r=a(n),i=this.createData(),o=n-1,s=0,u=n-1;u>0;u-=2){6===u&&(u-=1);for(var l=0;l<n;l+=1+=1){var c=o%2==0?n-l-1:l;for(var h=0;h<2;h+=1+=1){var f=u-h;null===r[c][f]&&(r[c][f]=0,s>>>3<i.length&&(r[c][f]=i[s>>>3]>>>~s&1&1),s+=1)}}o+=e?-1:1}if(s>>>3!==i.length)throw new Error("byte count mismatch");return r},createData:function(){for(var e=[],t=0,n=this.typeNumber,r=this.errorCorrectLevel,i=function(e,t){return t<=9?function(e){switch(e){case 1:return 10;case 2:return 9;case 4:return 8;case 8:return 8;default:throw Error("mode:"+e)}}(e):function(e){switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw Error("mode:"+e)}}(e)}(r,n),o=0;o<this.dataList.length;o+=1+=1){var a=this.dataList[o];e.push(a)}for(var u=e.length,l=0,c=0;c<u;c+=1+=1)l+=e[c].length;if(l>i)throw new Error("code length overflow. ("+l+">"+i+")");for(c=0;c<u;c+=1+=1){var h=e[c];t=function(e,t){for(var n=0;n<t.length;n+=1+=1)e.push(t[n]);return e}(t,h)}var f=i*8-t.length;if(t.push(236),f>=12)for(c=0;c<11;c+=1+=1)t.push(17);else for(c=0;c<f;c+=1+=1)t.push(17);return t},getPatternPosition:function(){return this.typeNumber<=9?[6,18]:this.typeNumber<=17?[6,22,38]:this.typeNumber<=25?[6,26,46]:this.typeNumber<=33?[6,30,54]:[6,34,62]},maskPattern:function(e){for(var t=this.getModuleCount(),n=0;n<t;n+=1+=1)for(var r=0;r<t;r+=1+=1){var i=!1;switch(e){case 0:i=(r+n)%2==0;break;case 1:i=n%2==0;break;case 2:i=r%3==0;break;case 3:i=(r+n)%3==0;break;case 4:i=(Math.floor(r/3)+Math.floor(n/2))%2==0;break;case 5:i=r*n%2+r*n%3==0;break;case 6:i=(r*n%2+r*n%3)%2==0;break;case 7:i=(r*n%3+(r+n)%2)%2==0}i&&(this.modules[n][r]=!this.modules[n][r])}},isDark:function(e,t){return e<0||this.moduleCount<=e||t<0||this.moduleCount<=t?!1:this.modules[e][t]}},e}(),QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};